# Boilerplate Rails RESTful JSON API

This API is implemented according to the [JSON API spec v1.1](https://jsonapi.org/format/1.1/)

## Filtering
**Description:** JSON API filtering with `all_filters` as default matcher.

**URI example:** `GET /users?filter[email-eq]=user@email.com&filter[name-cont]=son&match=any_filters`

## Sorting
**Description:** JSON API sorting.

**URI example:** `GET /users?sort=name,-age`

## Inclusion
**Description:** JSON API inclusion of related resources. Dot-separated relationship path supporting not implemented at this time.

**URI example:** `GET /users?include=team,organization`

## Pagination
**Description:** JSON API pagination with offset strategy.

**URI example:** `GET /users?page[number]=1&page[size]=1`

# Group Registration


## Registrations [/users/registration]


### Create user account (Sign Up) [POST /api/v1/users/registration]


+ Request renders user whose account was created
**POST**&nbsp;&nbsp;`/api/v1/users/registration`

    + Headers

            Accept: application/json
            Content-Type: application/json

    + Body

            {
              "email": "tristan@hermannrath.ca",
              "password": "Password1!",
              "password_confirmation": "Password1!"
            }

+ Response 201

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "data": {
                "id": "575",
                "type": "account",
                "attributes": {
                  "email": "tristan@hermannrath.ca",
                  "created_at": "2019-08-27T11:37:34.999Z"
                }
              }
            }

+ Request renders resource errors
**POST**&nbsp;&nbsp;`/api/v1/users/registration`

    + Headers

            Accept: application/json
            Content-Type: application/json

    + Body



+ Response 422

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "errors": [
                {
                  "source": {
                    "pointer": "/email"
                  },
                  "detail": "must be filled"
                },
                {
                  "source": {
                    "pointer": "/password"
                  },
                  "detail": "must be filled"
                }
              ]
            }

# Group Session


## Session Refresh [/session/refresh]


### Refresh user session [POST /api/v1/users/session/refresh]


+ Request renders refreshed tokens bundle in meta
**POST**&nbsp;&nbsp;`/api/v1/users/session/refresh`

    + Headers

            Accept: application/json
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY5MDU4NTUsInVpZCI6IjIwYjA1OTk4LTdiYWItNDZkMi1hNzRkLThiZjg4ZDc5NDk0NiIsImV4cCI6MTU2NzUxMDY1NX0.x7-9eAZWucBFysu6MxtAbHn2avwmr8VUxsejWVrK9u8
            Content-Type: application/json

+ Response 201

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "data": null,
              "meta": {
                "csrf": "4IQ1+42zpt/Zb00hTAKELYCFuychIryVESHMW84bNHyDMcEvQqiFA1lV1ec7pFfCLJNIgLPu6CEBX+qlnDKirw==",
                "access": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY5MDU4NTUsImV4cCI6MTU2NjkwNTg1NSwidWlkIjoiZDU3NWQzY2EtMzUwMC00MmI1LThmNGEtYzVkYjk2OTc5NzU0In0.VIYJ2RytImJtGwHny1xpfnZk3AMnvnvC7D2IVFHYFDA",
                "access_expires_at": "2019-08-27T14:37:35.000+03:00"
              }
            }

+ Request renders auth errors
**POST**&nbsp;&nbsp;`/api/v1/users/session/refresh`

    + Headers

            Accept: application/json
            X-Refresh-Token: invalid_token
            Content-Type: application/json

+ Response 401

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "errors": [
                {
                  "source": {
                    "pointer": "/base"
                  },
                  "detail": "invalid_token"
                }
              ]
            }

+ Request returns forbidden status
**POST**&nbsp;&nbsp;`/api/v1/users/session/refresh`

    + Headers

            Accept: application/json
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY5MDk0NTUsInVpZCI6IjljMjA4NjI0LTU3MmMtNGIyMC05ZjNlLTU4OWYxZmY5NDkzNSIsImV4cCI6MTU2NzUxMDY1NX0.N9VsvI3c9rqjH-llNn-ByOgaZkw5q1TVTQRxkjbTQlA
            Content-Type: application/json

+ Response 403

    + Headers

            Content-Type: application/json

## Sessions [/users/session]


### Create user session (Sign In) [POST /api/v1/users/session]


+ Request renders user whose session was created
**POST**&nbsp;&nbsp;`/api/v1/users/session`

    + Headers

            Accept: application/json
            Content-Type: application/json

    + Body

            {
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
              "email": "alena@bergnaumbreitenberg.us",
              "password": "ic6JovyQMoC"
=======
=======
>>>>>>> Feature/[PEO-454] Users sign up
<<<<<<< HEAD
              "email": "shila_mitchell@baileywisoky.ca",
              "password": "jnE4kCa4n9nGb"
=======
<<<<<<< HEAD
              "email": "adelaide.collins@mayertyost.co.uk",
              "password": "dcrChd_LY7XT"
=======
              "email": "franklin@hodkiewiczjenkins.us",
              "password": "rHdA0I1rBBD"
>>>>>>> Feature/Users sign out
>>>>>>> Feature/Users sign out
<<<<<<< HEAD
>>>>>>> Feature/Users sign out
=======
=======
              "email": "shila_mitchell@baileywisoky.ca",
              "password": "jnE4kCa4n9nGb"
>>>>>>> Feature/[PEO-454] Users sign up
>>>>>>> Feature/[PEO-454] Users sign up
=======
              "email": "alena@bergnaumbreitenberg.us",
              "password": "ic6JovyQMoC"
>>>>>>> Feature/[PEO-480] Verification user account
            }

+ Response 201

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "data": {
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
                "id": "578",
=======
=======
>>>>>>> Feature/[PEO-454] Users sign up
<<<<<<< HEAD
                "id": "2950",
=======
<<<<<<< HEAD
                "id": "1655",
>>>>>>> Feature/Users sign out
>>>>>>> Feature/Users sign out
=======
                "id": "578",
>>>>>>> Feature/[PEO-480] Verification user account
                "type": "account",
                "attributes": {
                  "email": "alena@bergnaumbreitenberg.us",
                  "created_at": "2019-08-27T11:37:35.105Z"
                }
              },
              "meta": {
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> Feature/[PEO-480] Verification user account
                "csrf": "suw5YQCKCAblCavlnXQrbLPADEuvQOSqEXCTyofUkOdAYLLfrOsYA0zPCtffX0Ga5DKDUwtPUqpT5408A/Pr/w==",
                "access": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY5MDk0NTUsImFjY291bnRfaWQiOjU3OCwidWlkIjoiNDFhOTkxMjgtYTE4OS00MTg2LWI5Y2QtNzY1MjAzODY1NDYwIiwiZXhwIjoxNTY2OTA5NDU1fQ.yHrFVQmtxVHb7qeYo-coyNlFNSfR4HzpVfgawPjYzPo",
                "access_expires_at": "2019-08-27T15:37:35.000+03:00",
                "refresh": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY5MDk0NTUsInVpZCI6IjM4YjkwNjM4LThkNjctNDIzNC04MDUwLTg2NTNlMTBkNjg4OSIsImV4cCI6MTU2NzUxMDY1NX0.wNa_CqkY3FqJhewlDuSmjEb4wbCHrZg4W_NRuLkU3yo",
                "refresh_expires_at": "2019-09-03T14:37:35.000+03:00"
<<<<<<< HEAD
=======
<<<<<<< HEAD
                "csrf": "aehty0ggsWqqNyxN8aOlcrxX1YLVaSyh0wU0O+S+GkPYHojWerDkjo8uRVeNXkRlW3+WqeFDMgI8EG26IG8YcA==",
                "access": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY1NTY3NzQsImFjY291bnRfaWQiOjI5NTAsInVpZCI6ImIwMDc4NTRkLTIwNjUtNDFmZS1iOGQyLWVlMTMxZTE4MDE0OCIsImV4cCI6MTU2NjU1Njc3NH0.Tq2dFPWyoZ2yEWDQUlJIdRYcuQ3bFU3jmZVXMlYDBzc",
                "access_expires_at": "2019-08-23T13:39:34.000+03:00",
                "refresh": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY1NTY3NzQsInVpZCI6IjI1ZTcwNDcxLWEwODYtNDgyZC05OTMxLWE4NzU5NjM2OWViMyIsImV4cCI6MTU2NzE1Nzk3NH0.rLfsPGcYzGm3Q5UdBVY6ciORckgdbXey9dPBoc82pVY",
                "refresh_expires_at": "2019-08-30T12:39:34.000+03:00"
=======
                "csrf": "Xj1Q75Nk4uKCTPwDsVy2p+tIp6+b/LAfm95FZ2rDd+YMo5Y6Z/48H+p1gSTJoAPHJBYwu7HWw7e2fk8pzgjWUw==",
                "access": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjYzMTE0NzQsImFjY291bnRfaWQiOjE2NTUsInVpZCI6ImY4MTcxZjBkLTU3NDEtNDk3OC05OGM5LThjM2NlMzY1ZGY5MiIsImV4cCI6MTU2NjMxMTQ3NH0.n8u6fr971bWL12fVWY9ssZ7uw1v0ZhHLy3NMw_tK6c0",
                "access_expires_at": "2019-08-20T17:31:14.000+03:00",
                "refresh": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjYzMTE0NzQsInVpZCI6ImFiMjFiZWM3LTE3ZGMtNDZjZS1hODYxLTczNzYyMDVjZDRlZSIsImV4cCI6MTU2NjkxMjY3NH0.6D3vVK6pVJTJSWplSBA1e3ipU2ECUZK9I5iL7p85RqI",
                "refresh_expires_at": "2019-08-27T16:31:14.000+03:00"
=======
                "id": "868",
=======
                "id": "2950",
>>>>>>> Feature/[PEO-454] Users sign up
                "type": "account",
                "attributes": {
                  "email": "shila_mitchell@baileywisoky.ca",
                  "created_at": "2019-08-23T09:39:34.860Z"
                }
              },
              "meta": {
<<<<<<< HEAD
                "csrf": "ucDAtTtz5fhasNhjUTlnxda9VTqZRWU7HxBGenXATr5uRO6roL94J14aUYMvqe63r2Qhyn6VTb1gpHrWheeL5A==",
                "access": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjYwNTM3ODMsImFjY291bnRfaWQiOjg2OCwidWlkIjoiMzFlNTAwYjctZDk3Yi00ZTgxLTk1ZTEtNWE5ZWFhNTdmYWE1IiwiZXhwIjoxNTY2MDUzNzgzfQ.__dVyZe3eIWW3AUWJfdr4j51CG6E21l9WaRF-qDZUr8",
                "access_expires_at": "2019-08-17T17:56:23.000+03:00",
                "refresh": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjYwNTM3ODMsInVpZCI6ImY0YTFjZDZjLTJhYmUtNGRhYi04MDRkLTYzNjFkNGUzNmZiNyIsImV4cCI6MTU2NjY1NDk4M30.kd_RckWgBfFJAbfHt5VsgzSmXlmECdptfRpZ0MGI9TQ",
                "refresh_expires_at": "2019-08-24T16:56:23.000+03:00"
>>>>>>> Feature/Users sign out
>>>>>>> Feature/Users sign out
<<<<<<< HEAD
>>>>>>> Feature/Users sign out
=======
=======
                "csrf": "aehty0ggsWqqNyxN8aOlcrxX1YLVaSyh0wU0O+S+GkPYHojWerDkjo8uRVeNXkRlW3+WqeFDMgI8EG26IG8YcA==",
                "access": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY1NTY3NzQsImFjY291bnRfaWQiOjI5NTAsInVpZCI6ImIwMDc4NTRkLTIwNjUtNDFmZS1iOGQyLWVlMTMxZTE4MDE0OCIsImV4cCI6MTU2NjU1Njc3NH0.Tq2dFPWyoZ2yEWDQUlJIdRYcuQ3bFU3jmZVXMlYDBzc",
                "access_expires_at": "2019-08-23T13:39:34.000+03:00",
                "refresh": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY1NTY3NzQsInVpZCI6IjI1ZTcwNDcxLWEwODYtNDgyZC05OTMxLWE4NzU5NjM2OWViMyIsImV4cCI6MTU2NzE1Nzk3NH0.rLfsPGcYzGm3Q5UdBVY6ciORckgdbXey9dPBoc82pVY",
                "refresh_expires_at": "2019-08-30T12:39:34.000+03:00"
>>>>>>> Feature/[PEO-454] Users sign up
>>>>>>> Feature/[PEO-454] Users sign up
=======
>>>>>>> Feature/[PEO-480] Verification user account
              }
            }

+ Request renders resource errors
**POST**&nbsp;&nbsp;`/api/v1/users/session`

    + Headers

            Accept: application/json
            Content-Type: application/json

    + Body



+ Response 422

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "errors": [
                {
                  "source": {
                    "pointer": "/email"
                  },
                  "detail": "is missing"
                },
                {
                  "source": {
                    "pointer": "/password"
                  },
                  "detail": "is missing"
                }
              ]
            }

+ Request returns not found status
**POST**&nbsp;&nbsp;`/api/v1/users/session`

    + Headers

            Accept: application/json
            Content-Type: application/json

    + Body

            {
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
              "email": "_tuyet@king.us",
              "password": "kvTB9mogOL7"
=======
=======
>>>>>>> Feature/[PEO-454] Users sign up
<<<<<<< HEAD
              "email": "_risa@weber.us",
              "password": "fMmAWpCwGaI6hBIb"
=======
<<<<<<< HEAD
              "email": "_gerald_williamson@dubuque.info",
              "password": "6IUHEt8yqviVTW5j"
=======
              "email": "_sally@green.ca",
              "password": "zg2ejjMgdvS"
>>>>>>> Feature/Users sign out
>>>>>>> Feature/Users sign out
<<<<<<< HEAD
>>>>>>> Feature/Users sign out
=======
=======
              "email": "_risa@weber.us",
              "password": "fMmAWpCwGaI6hBIb"
>>>>>>> Feature/[PEO-454] Users sign up
>>>>>>> Feature/[PEO-454] Users sign up
=======
              "email": "_tuyet@king.us",
              "password": "kvTB9mogOL7"
>>>>>>> Feature/[PEO-480] Verification user account
            }

+ Response 404

    + Headers

            Content-Type: application/json

+ Request renders auth errors
**POST**&nbsp;&nbsp;`/api/v1/users/session`

    + Headers

            Accept: application/json
            Content-Type: application/json

    + Body

            {
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
              "email": "adan@welch.co.uk",
              "password": "_7tCxB6k9u64DIG"
=======
=======
>>>>>>> Feature/[PEO-454] Users sign up
<<<<<<< HEAD
              "email": "garry_mueller@gislason.name",
              "password": "_Tqd03KCiK"
=======
<<<<<<< HEAD
              "email": "charita.haley@lakinbosco.info",
              "password": "_qUYjHvazIAwuiIz"
=======
              "email": "yanira@johnston.info",
              "password": "_c51ghoD6B"
>>>>>>> Feature/Users sign out
>>>>>>> Feature/Users sign out
<<<<<<< HEAD
>>>>>>> Feature/Users sign out
=======
=======
              "email": "garry_mueller@gislason.name",
              "password": "_Tqd03KCiK"
>>>>>>> Feature/[PEO-454] Users sign up
>>>>>>> Feature/[PEO-454] Users sign up
=======
              "email": "adan@welch.co.uk",
              "password": "_7tCxB6k9u64DIG"
>>>>>>> Feature/[PEO-480] Verification user account
            }

+ Response 401

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "errors": [
                {
                  "source": {
                    "pointer": "/base"
                  },
                  "detail": "wrong credentials"
                }
              ]
            }

### Destroy user session (Sign Out) [DELETE /api/v1/users/session]


+ Request clears user session
**DELETE**&nbsp;&nbsp;`/api/v1/users/session`

    + Headers

            Accept: application/json
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY5MDk0NTUsInVpZCI6IjMyNmI1OTljLTBhODktNDUzYi1iYWQ2LWJmYmI5ZDlhNmU2NCIsImV4cCI6MTU2NzUxMDY1NX0.B2raQ7sKEFpPLakvQL08Hy0olN-s83C58UrIjdBOsDQ
=======
=======
>>>>>>> Feature/[PEO-454] Users sign up
<<<<<<< HEAD
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY1NTY3NzQsInVpZCI6IjFhN2I1NTg1LWM5OTEtNGEzMi05MWMxLWU5OGUxOWE3MTNiOCIsImV4cCI6MTU2NzE1Nzk3NH0.rPdfAhU1_a7mx0C2-EzIXf97ovsjhNyxqT_QeYyCCdk
=======
<<<<<<< HEAD
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjYzMTE0NzQsInVpZCI6IjQ2M2RkNmQ4LWRkY2UtNDc0MC04MmQzLTU5OWM5OTY3OGM2MiIsImV4cCI6MTU2NjkxMjY3NH0.L3X8jrLc7J6FvZV0nonMjcl9tMJfaLcIL-NNaRbS3xs
=======
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjYwNTM3ODMsInVpZCI6ImYyNjYwMjZlLTIzMzEtNDg2MS1iM2M4LWI3ZmE4YTZiNTJiMyIsImV4cCI6MTU2NjY1NDk4M30.0Owv7mVryS3LEkwRb3uuTc0PY3H6wVGIlNiJSzPtWd8
>>>>>>> Feature/Users sign out
>>>>>>> Feature/Users sign out
<<<<<<< HEAD
>>>>>>> Feature/Users sign out
=======
=======
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY1NTY3NzQsInVpZCI6IjFhN2I1NTg1LWM5OTEtNGEzMi05MWMxLWU5OGUxOWE3MTNiOCIsImV4cCI6MTU2NzE1Nzk3NH0.rPdfAhU1_a7mx0C2-EzIXf97ovsjhNyxqT_QeYyCCdk
>>>>>>> Feature/[PEO-454] Users sign up
>>>>>>> Feature/[PEO-454] Users sign up
=======
            X-Refresh-Token: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE1NjY5MDk0NTUsInVpZCI6IjMyNmI1OTljLTBhODktNDUzYi1iYWQ2LWJmYmI5ZDlhNmU2NCIsImV4cCI6MTU2NzUxMDY1NX0.B2raQ7sKEFpPLakvQL08Hy0olN-s83C58UrIjdBOsDQ
>>>>>>> Feature/[PEO-480] Verification user account
            Content-Type: application/json

+ Response 204

+ Request renders auth errors
**DELETE**&nbsp;&nbsp;`/api/v1/users/session`

    + Headers

            Accept: application/json
            X-Refresh-Token: invalid_token
            Content-Type: application/json

+ Response 401

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "errors": [
                {
                  "source": {
                    "pointer": "/base"
                  },
                  "detail": "invalid_token"
                }
              ]
            }

# Group Verification


## Verifications [/users/verification]


### Verificate user account [GET /api/v1/users/verification]


+ Request verifies user account
**GET**&nbsp;&nbsp;`/api/v1/users/verification?email_token=eyJhbGciOiJIUzI1NiJ9.eyJhY2NvdW50X2lkIjo1ODIsImV4cCI6MTU2Njk5MjI1NX0.baZNOtGFzGmXVnSKf70cl_tmcgY3H-iV0nKrV2lkAnQ`

    + Headers

            Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5

+ Response 204

+ Request renders resource errors
**GET**&nbsp;&nbsp;`/api/v1/users/verification?email_token=invalid_token`

    + Headers

            Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5

+ Response 422

    + Headers

            Content-Type: application/vnd.api+json; charset=utf-8

    + Body

            {
              "errors": [
                {
                  "source": {
                    "pointer": "/base"
                  },
                  "detail": "invalid email token"
                }
              ]
            }

+ Request returns not found status
**GET**&nbsp;&nbsp;`/api/v1/users/verification?email_token=eyJhbGciOiJIUzI1NiJ9.eyJhY2NvdW50X2lkIjo1ODMsImV4cCI6MTU2Njk5MjI1NX0.x3r7JkbOT2qWI779JDzs4hvdAAgfOCGygHj-vorI_XY`

    + Headers

            Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5

+ Response 404

    + Headers

            Content-Type: text/html
